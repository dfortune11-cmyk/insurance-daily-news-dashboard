<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>안프로의 보험 핵심 뉴스 브리핑</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8fafc; }
        .gradient-text {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card-hover:hover { transform: translateY(-3px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1); }
        .glass-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        }
    </style>
</head>
<body class="text-slate-800 antialiased">

    <!-- Header -->
    <header class="glass-header fixed w-full top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <i data-lucide="shield-check" class="w-8 h-8 text-blue-600"></i>
                <h1 class="text-xl font-bold tracking-tight text-slate-900">안프로의 <span class="gradient-text">보험 핵심 뉴스</span></h1>
            </div>
            <div class="flex items-center gap-4">
                 <div class="relative flex items-center gap-2">
                    <span class="text-xs font-semibold text-slate-500">날짜 선택:</span>
                    <input type="date" id="datePicker" class="border border-slate-300 rounded-lg px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm text-slate-600 cursor-pointer hover:bg-slate-50 transition-colors">
                </div>
                <!-- GitHub Link (Optional) -->
                <a href="https://github.com/dfortune11-cmyk/insurance-daily-news-dashboard" target="_blank" class="text-slate-400 hover:text-slate-600 transition-colors" title="GitHub Repository">
                    <i data-lucide="github" class="w-5 h-5"></i>
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto min-h-screen">
        
        <!-- Date Header -->
        <div class="mb-8 text-center animate-fade-in relative">
            <div class="inline-flex items-center justify-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-sm font-medium mb-3">
                <i data-lucide="calendar" class="w-4 h-4"></i>
                <span id="currentDateDisplay">Loading...</span>
            </div>
            <h2 class="text-3xl sm:text-4xl font-bold text-slate-900 mb-2">오늘의 핵심 브리핑</h2>
            <p class="text-slate-500">바쁜 당신을 위한 보험 업계 최신 동향 요약</p>
        </div>

        <!-- News Grid -->
        <div id="news-container" class="grid gap-6">
            <!-- News items will be populated here -->
        </div>

        <!-- Empty State (Hidden by default) -->
        <div id="empty-state" class="hidden text-center py-12 animate-fade-in">
            <div class="bg-slate-50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4 border border-slate-100">
                <i data-lucide="inbox" class="w-10 h-10 text-slate-300"></i>
            </div>
            <h3 class="text-lg font-bold text-slate-900">해당 날짜의 뉴스가 없습니다</h3>
            <p class="text-slate-500 mt-2 text-sm">다른 날짜를 선택하거나 내일 업데이트를 확인해주세요.</p>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-auto">
        <div class="max-w-4xl mx-auto py-8 px-4 text-center">
            <p class="text-slate-500 text-sm">© 2026 안프로의 보험 연구소. All rights reserved.</p>
            <p class="text-slate-400 text-xs mt-2">Powered by Gemini 2.0 & Github Actions</p>
        </div>
    </footer>

    <script>
        // 뉴스 데이터베이스 (자동 업데이트됨)
        const NEWS_DATABASE = {
            "2026-02-20": [
                {
                    "category": "MARKET TREND",
                    "icon": "trending-up",
                    "title": "보험업계, 규제 변화 속 수익원 다각화 모색",
                    "details": [
                        "소비자보호 강화 기조에 따라 보험사들은 소비자보호 조직을 확대 및 강화.",
                        "해외진출, 시니어 사업 등 신사업 추진으로 전통적 수익 모델의 한계 극복 시도.",
                        "데이터와 보험 결합을 통한 맞춤형 상품 개발 필요."
                    ],
                    "insight": "대표님, 소비자 중심 경영은 선택이 아닌 필수입니다! 신사업 투자와 데이터 활용에 적극적으로 나서야 합니다.",
                    "link": "https://www.news2day.co.kr/article/20251231500325"
                },
                {
                    "category": "REGULATION",
                    "icon": "shield-alert",
                    "title": "겹겹 규제 속 보험산업 위기 심화",
                    "details": [
                        "본업 부진과 규제 강화로 보험사의 수익성 및 건전성이 위협받는 상황.",
                        "자동차보험 손해율 증가로 보험사들의 수익성 악화.",
                        "5세대 실손보험이 본업 회복의 히든카드가 될 수 있을지 주목."
                    ],
                    "insight": "규제 변화에 민감하게 반응하고, 새로운 수익 모델 발굴에 집중해야 합니다. 5세대 실손보험 판매 전략을 점검하십시오!",
                    "link": "https://news.nate.com/view/20260107n02652"
                },
                {
                    "category": "REGULATION",
                    "icon": "shield-alert",
                    "title": "초고소득 직장인, 건보료 상한액 월 459만원으로 인상",
                    "details": [
                        "2026년부터 고소득 직장인의 건강보험료 상한액 인상.",
                        "월급과 부수입 모두 상한액에 해당하면 월 900만원 이상 건보료 지출.",
                        "보험료 하한액도 소폭 상승하여 사회적 약자 보호 강화."
                    ],
                    "insight": "고소득층을 위한 맞춤형 보험 상품 개발 기회입니다. 세금 및 보험료 변화에 따른 고객 니즈를 파악하십시오.",
                    "link": "https://www.yna.co.kr/view/AKR20260102078300530"
                },
                {
                    "category": "NEW POLICY",
                    "icon": "activity",
                    "title": "실손보험 진화? 보험료↓ 보장↓",
                    "details": [
                        "새로운 실손보험 출시로 보험료는 낮아지지만 비급여 항목 보장 축소.",
                        "도수치료 등 비급여 항목이 전체 보험금의 높은 비중 차지.",
                        "공적 보험의 역할 축소 및 환자의 민간 보험 의존 심화 우려."
                    ],
                    "insight": "실손보험 개편에 따른 소비자 혼란을 최소화하고, 합리적인 보험료와 보장 설계를 제안해야 합니다. 장기적인 관점에서 포트폴리오를 재점검하세요!",
                    "link": "https://www.ftoday.co.kr/news/articleView.html?idxno=355367"
                },
                {
                    "category": "AI TECH",
                    "icon": "bot",
                    "title": "보험사 CEO, 신년 화두는 'AI 전환'",
                    "details": [
                        "보험사 CEO들의 신년사에서 소비자 보호 강화, 질적 성장, AI 전환 등이 강조됨.",
                        "보험손익 변동성 확대 속 투자이익이 보험손익을 앞서는 추세.",
                        "AI 기반 실질적 성과 창출 및 AI를 활용한 맞춤형 상품 개발 필요."
                    ],
                    "insight": "AI 기술 도입은 이제 생존 문제입니다. 전사적인 AI 역량 강화 로드맵을 수립하고, 적극적으로 투자해야 합니다.",
                    "link": "https://v.daum.net/v/20260107070323747"
                }
            ],
            "2026-02-19": [
                {
                    "category": "NEW POLICY",
                    "icon": "shield-check",
                    "title": "실손보험 청구 전산화, 의원급까지 확대 추진",
                    "details": [
                        "기존 병원급에서 의원급으로 실손 청구 전산화 대상 확대",
                        "환자의 서류 발급 불편 해소 및 보험금 청구 간소화 기대",
                        "의료계의 반발 예상되나 정부의 강력한 추진 의지 확인"
                    ],
                    "insight": "고객 편의성은 높아지지만, 소액 청구 급증으로 손해율 관리에 주의가 필요해 보입니다.",
                    "link": "#"
                },
                {
                    "category": "MARKET TREND",
                    "icon": "trending-up",
                    "title": "2026년 보험업계 키워드는 '초개인화'와 'AI'",
                    "details": [
                        "빅데이터와 AI를 활용한 개인 맞춤형 보험 상품 개발 가속화",
                        "유병자, 고령자 등 틈새 시장을 겨냥한 특화 상품 출시 활발",
                        "보험 가입부터 청구까지 AI 자동화 시스템 도입 확산"
                    ],
                    "insight": "AI 기반 설계 솔루션을 적극 활용하여 고객에게 딱 맞는 맞춤 설계를 제안하는 역량이 중요해질 것입니다.",
                    "link": "#"
                },
                {
                    "category": "REGULATION",
                    "icon": "scale",
                    "title": "보험사기방지특별법 개정안 시행, 처벌 대폭 강화",
                    "details": [
                        "보험사기 알선·권유 행위 금지 및 처벌 규정 신설",
                        "보험업 종사자의 가중 처벌 조항 포함",
                        "건전한 보험 시장 질서 확립을 위한 제도적 기반 마련"
                    ],
                    "insight": "클린 영업이 답입니다. 고객에게 정확한 정보를 전달하고 원칙을 지키는 영업이 롱런의 비결입니다.",
                    "link": "#"
                }
            ],
            "2026-02-18": [
                {
                    "category": "NEWS",
                    "icon": "newspaper",
                    "title": "보험사 2025년 결산 실적 발표: 역대 최대 이익 달성",
                    "details": ["주요 보험사들이 작년 한 해 역대 최대 규모의 이익을 달성하며 성장세를 이어가고 있습니다."],
                    "insight": "실적 호조 속에서 사회적 책임과 상생 금융에 대한 목소리도 커질 전망입니다.",
                    "link": "#"
                }
            ]
            // New entries will be appended here by the python script
        };

        // DOM Elements
        const newsContainer = document.getElementById('news-container');
        const currentDateDisplay = document.getElementById('currentDateDisplay');
        const emptyState = document.getElementById('empty-state');
        const datePicker = document.getElementById('datePicker');

        // Functions
        function renderNews(date) {
            const newsItems = NEWS_DATABASE[date];
            newsContainer.innerHTML = ''; // Clear existing
            
            // Validate Date for display
            if(date) {
                currentDateDisplay.textContent = date;
                datePicker.value = date;
            }

            if (!newsItems || newsItems.length === 0) {
                newsContainer.classList.add('hidden');
                emptyState.classList.remove('hidden');
                lucide.createIcons();
                return;
            }

            newsContainer.classList.remove('hidden');
            emptyState.classList.add('hidden');

            newsItems.forEach((item, index) => {
                const delay = index * 100; // Stagger animation
                const card = document.createElement('div');
                card.className = `bg-white rounded-xl p-6 border border-slate-200 shadow-sm transition-all duration-300 card-hover opacity-0 animate-fade-in`;
                card.style.animation = `fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) ${delay}ms forwards`;
                
                card.innerHTML = `
                    <div class="flex flex-col sm:flex-row gap-4 items-start">
                        <div class="flex-shrink-0">
                            <div class="w-12 h-12 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600 border border-blue-100">
                                <i data-lucide="${item.icon}"></i>
                            </div>
                        </div>
                        <div class="flex-1 w-full">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-[11px] font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded-full tracking-wider uppercase">${item.category}</span>
                            </div>
                            <h3 class="text-lg font-bold text-slate-900 mb-3 leading-snug hover:text-blue-600 transition-colors">
                                <a href="${item.link}" target="_blank" class="flex gap-1 items-start">
                                    ${item.title}
                                    <i data-lucide="external-link" class="w-4 h-4 text-slate-300 mt-1"></i>
                                </a>
                            </h3>
                            <ul class="space-y-2 mb-5 text-slate-600 text-sm">
                                ${item.details.map(detail => `<li class="flex items-start gap-2.5"><span class="mt-2 w-1.5 h-1.5 bg-slate-300 rounded-full flex-shrink-0"></span><span class="leading-relaxed">${detail}</span></li>`).join('')}
                            </ul>
                            <div class="bg-indigo-50 border border-indigo-100 rounded-lg p-3.5 text-sm text-indigo-800 flex gap-3 shadow-sm">
                                <i data-lucide="lightbulb" class="w-5 h-5 flex-shrink-0 text-indigo-600 mt-0.5"></i>
                                <div class="flex-1">
                                    <span class="font-bold block text-xs uppercase text-indigo-500 mb-1">Expert Insight</span>
                                    <span class="font-medium leading-relaxed">"${item.insight}"</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                newsContainer.appendChild(card);
            });
            
            // Re-initialize icons for new elements
            lucide.createIcons();
        }

        function getLatestDate() {
            const dates = Object.keys(NEWS_DATABASE).sort();
            return dates.length > 0 ? dates[dates.length - 1] : null;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Add fade-in animation style
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in { opacity: 0; }
            `;
            document.head.appendChild(style);

            // 1. Get latest available date
            const latestDate = getLatestDate();
            
            // 2. Render initial state
            if (latestDate) {
                renderNews(latestDate);
            } else {
                // If DB is empty, default to today
                const today = new Date().toISOString().split('T')[0];
                currentDateDisplay.textContent = today;
                datePicker.value = today;
                renderNews(today); // Will show empty state
            }

            // 3. Set Max Date for DatePicker to Today
            const today = new Date().toISOString().split('T')[0];
            datePicker.max = today;

            // 4. Event Listeners
            datePicker.addEventListener('change', (e) => {
                renderNews(e.target.value);
            });
        });
    </script>
</body>
</html>