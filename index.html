<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>안프로의 보험 핵심 뉴스 브리핑</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
        }

        .gradient-text {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-hover:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        .glass-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        }
    </style>
</head>

<body class="text-slate-800 antialiased">

    <header class="glass-header fixed w-full top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 h-14 sm:h-16 flex items-center justify-between gap-2">
            <div class="flex items-center gap-1.5 sm:gap-2 flex-shrink min-w-0">
                <i data-lucide="shield-check" class="w-6 h-6 sm:w-8 sm:h-8 text-blue-600 flex-shrink-0"></i>
                <h1 class="text-[15px] sm:text-xl font-bold tracking-tight text-slate-900 truncate">안프로의 <span
                        class="gradient-text">보험 핵심 뉴스</span></h1>
            </div>
            <div class="flex items-center gap-2 sm:gap-4 flex-shrink-0">
                <div class="relative flex items-center gap-1.5 sm:gap-2">
                    <span class="hidden md:inline-block text-xs font-semibold text-slate-500">날짜 선택:</span>
                    <input type="date" id="datePicker"
                        class="w-[110px] sm:w-[130px] border border-slate-300 rounded-md sm:rounded-lg px-2 py-1 sm:px-3 sm:py-1.5 text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm text-slate-600 cursor-pointer hover:bg-slate-50 transition-colors bg-white">
                </div>
                <!-- GitHub Link (Optional) -->
                <a href="https://github.com/dfortune11-cmyk/insurance-daily-news-dashboard" target="_blank"
                    class="hidden sm:flex text-slate-400 hover:text-slate-600 transition-colors"
                    title="GitHub Repository">
                    <i data-lucide="github" class="w-5 h-5"></i>
                </a>
            </div>
        </div>
    </header>

    <main class="pt-20 sm:pt-24 pb-10 sm:pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto min-h-screen">

        <!-- Date Header -->
        <div class="mb-6 sm:mb-8 text-center animate-fade-in relative">
            <div
                class="inline-flex items-center justify-center gap-1.5 sm:gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-xs sm:text-sm font-medium mb-2.5 sm:mb-3">
                <i data-lucide="calendar" class="w-3.5 h-3.5 sm:w-4 sm:h-4"></i>
                <span id="currentDateDisplay">Loading...</span>
            </div>
            <h2 class="text-2xl sm:text-4xl font-bold text-slate-900 mb-1.5 sm:mb-2">오늘의 핵심 브리핑</h2>
            <p class="text-xs sm:text-base text-slate-500">바쁜 당신을 위한 보험 업계 최신 동향 요약</p>
        </div>

        <!-- News Grid -->
        <div id="news-container" class="grid gap-6">
            <!-- News items will be populated here -->
        </div>

        <!-- Empty State (Hidden by default) -->
        <div id="empty-state" class="hidden text-center py-12 animate-fade-in">
            <div
                class="bg-slate-50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4 border border-slate-100">
                <i data-lucide="inbox" class="w-10 h-10 text-slate-300"></i>
            </div>
            <h3 class="text-lg font-bold text-slate-900">해당 날짜의 뉴스가 없습니다</h3>
            <p class="text-slate-500 mt-2 text-sm">다른 날짜를 선택하거나 내일 업데이트를 확인해주세요.</p>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-auto">
        <div class="max-w-4xl mx-auto py-8 px-4 text-center">
            <p class="text-slate-500 text-sm">© 2026 안프로의 보험 연구소. All rights reserved.</p>
            <p class="text-slate-400 text-xs mt-2">Powered by Gemini 2.0 & Github Actions</p>
        </div>
    </footer>

    <script>
        // 뉴스 데이터베이스 (자동 업데이트됨)
        const NEWS_DATABASE = {
            "2026-02-19": [
                {
                    "category": "NEW POLICY",
                    "icon": "shield-check",
                    "title": "실손보험 청구 전산화, 의원급까지 확대 추진",
                    "details": [
                        "기존 병원급에서 의원급으로 실손 청구 전산화 대상 확대",
                        "환자의 서류 발급 불편 해소 및 보험금 청구 간소화 기대",
                        "의료계의 반발 예상되나 정부의 강력한 추진 의지 확인"
                    ],
                    "insight": "고객 편의성은 높아지지만, 소액 청구 급증으로 손해율 관리에 주의가 필요해 보입니다.",
                    "link": "#"
                },
                {
                    "category": "MARKET TREND",
                    "icon": "trending-up",
                    "title": "2026년 보험업계 키워드는 '초개인화'와 'AI'",
                    "details": [
                        "빅데이터와 AI를 활용한 개인 맞춤형 보험 상품 개발 가속화",
                        "유병자, 고령자 등 틈새 시장을 겨냥한 특화 상품 출시 활발",
                        "보험 가입부터 청구까지 AI 자동화 시스템 도입 확산"
                    ],
                    "insight": "AI 기반 설계 솔루션을 적극 활용하여 고객에게 딱 맞는 맞춤 설계를 제안하는 역량이 중요해질 것입니다.",
                    "link": "#"
                },
                {
                    "category": "REGULATION",
                    "icon": "scale",
                    "title": "보험사기방지특별법 개정안 시행, 처벌 대폭 강화",
                    "details": [
                        "보험사기 알선·권유 행위 금지 및 처벌 규정 신설",
                        "보험업 종사자의 가중 처벌 조항 포함",
                        "건전한 보험 시장 질서 확립을 위한 제도적 기반 마련"
                    ],
                    "insight": "클린 영업이 답입니다. 고객에게 정확한 정보를 전달하고 원칙을 지키는 영업이 롱런의 비결입니다.",
                    "link": "#"
                }
            ],
            // New entries will be appended here by the python script
        };

        // DOM Elements
        const newsContainer = document.getElementById('news-container');
        const currentDateDisplay = document.getElementById('currentDateDisplay');
        const emptyState = document.getElementById('empty-state');
        const datePicker = document.getElementById('datePicker');

        // Functions
        function renderNews(date) {
            const newsItems = NEWS_DATABASE[date];
            newsContainer.innerHTML = ''; // Clear existing

            // Validate Date for display
            if (date) {
                currentDateDisplay.textContent = date;
                datePicker.value = date;
            }

            if (!newsItems || newsItems.length === 0) {
                newsContainer.classList.add('hidden');
                emptyState.classList.remove('hidden');
                lucide.createIcons();
                return;
            }

            newsContainer.classList.remove('hidden');
            emptyState.classList.add('hidden');

            newsItems.forEach((item, index) => {
                const delay = index * 100; // Stagger animation
                const card = document.createElement('div');
                card.className = `bg-white rounded-xl p-6 border border-slate-200 shadow-sm transition-all duration-300 card-hover opacity-0 animate-fade-in`;
                card.style.animation = `fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) ${delay}ms forwards`;

                card.innerHTML = `
                    <div class="flex flex-col sm:flex-row gap-4 items-start">
                        <div class="flex-shrink-0">
                            <div class="w-12 h-12 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600 border border-blue-100">
                                <i data-lucide="${item.icon}"></i>
                            </div>
                        </div>
                        <div class="flex-1 w-full">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-[11px] font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded-full tracking-wider uppercase">${item.category}</span>
                            </div>
                            <h3 class="text-lg font-bold text-slate-900 mb-3 leading-snug hover:text-blue-600 transition-colors">
                                <a href="${item.link}" target="_blank" class="flex gap-1 items-start">
                                    ${item.title}
                                    <i data-lucide="external-link" class="w-4 h-4 text-slate-300 mt-1"></i>
                                </a>
                            </h3>
                            <ul class="space-y-2 mb-5 text-slate-600 text-sm">
                                ${item.details.map(detail => `<li class="flex items-start gap-2.5"><span class="mt-2 w-1.5 h-1.5 bg-slate-300 rounded-full flex-shrink-0"></span><span class="leading-relaxed">${detail}</span></li>`).join('')}
                            </ul>
                            <div class="bg-indigo-50 border border-indigo-100 rounded-lg p-3.5 text-sm text-indigo-800 flex gap-3 shadow-sm">
                                <i data-lucide="lightbulb" class="w-5 h-5 flex-shrink-0 text-indigo-600 mt-0.5"></i>
                                <div class="flex-1">
                                    <span class="font-bold block text-xs uppercase text-indigo-500 mb-1">Expert Insight</span>
                                    <span class="font-medium leading-relaxed">"${item.insight}"</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                newsContainer.appendChild(card);
            });

            // Re-initialize icons for new elements
            lucide.createIcons();
        }

        function getLatestDate() {
            const dates = Object.keys(NEWS_DATABASE).sort();
            return dates.length > 0 ? dates[dates.length - 1] : null;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Add fade-in animation style
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in { opacity: 0; }
            `;
            document.head.appendChild(style);

            // 1. Get latest available date
            const latestDate = getLatestDate();

            // 2. Render initial state
            if (latestDate) {
                renderNews(latestDate);
            } else {
                // If DB is empty, default to today
                const today = new Date().toISOString().split('T')[0];
                currentDateDisplay.textContent = today;
                datePicker.value = today;
                renderNews(today); // Will show empty state
            }

            // 3. Set Max Date for DatePicker to Today
            const today = new Date().toISOString().split('T')[0];
            datePicker.max = today;

            // 4. Event Listeners
            datePicker.addEventListener('change', (e) => {
                renderNews(e.target.value);
            });
        });
    </script>
</body>

</html>